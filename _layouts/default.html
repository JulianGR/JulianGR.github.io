<!DOCTYPE html>
<html lang="en">
{% include head.html %}

<body>
  <div class="container">
    <!-- Header -->
    <header>
      <div class="row">
        <div class="col">
          <div class="headerTitle">
            <a href="{{site.baseurl}}/">JulianGR's blog</a>
          </div>
        </div>
      </div>
    </header>

    <!-- navbar -->
    <div class="row" id="navbar">
      <nav class="nav nav-pills nav-fill nav-justified" style="width:100%;">
        <a class="nav-item homeButton withoutDecoration" href="{{ site.baseurl }}/"><button id="home" class="buttonActive" style="display: block;width: 100%;">Home</button></a>
        <a class="nav-item withoutDecoration" href="{{ site.baseurl }}/postsList"><button id="postsList" style="display: block;width: 100%;">Posts List</button></a>
        <a class="nav-item aboutButton withoutDecoration" href="{{ site.baseurl }}/about"><button id="about" style="display: block;width: 100%;">About</button></a>
      </nav>
      <noscript>Some functions may not work if you have JavaScript disabled</noscript>


    </div>
    <br>
    <br>

    <div class="row">
      <!-- MAIN -->
      <div class="col-8">
        {{content}}
      </div>
      <!-- SIDEBAR -->
      <div class="col-4">
        <!-- Featured Posts -->
        <div class="row">
          <div class="border" style="width: 100%;">
            <div class="postHeader">
              <h1>FEATURED POSTS</h1>
            </div>
            <div class="featuredPostContent">
              <div class="featurePostImage">
                <a href="TODO"><img class="img-fluid mx-auto d-block" alt="" src=""></img></a>
              </div>
              <br>
              <div class="featurePostImage">
                <a href="TODO"><img class="img-fluid mx-auto d-block" alt=""src=""></img></a>
              </div>
              <br>
              <div class="featurePostImage">
                <a href="TODO"><img class="img-fluid mx-auto d-block"alt="" src=""></img></a>
              </div>
            </div>
          </div>
        </div>

        <br>
        <!-- Search -->
        <div class="row">
          <form class="border" method="get" id="site_search" style="width: 100%;">
            <div class="input-group">
              <div class="input-group-prepend">
                <button onclick="showSearchResult();" type="submit">
                  <img src="{{ site.baseurl }}/assets/search.svg" alt="search icon" style="width:15px;">
                </button>
              </div>
              <input class="form-control my-0 py-1" type="text" placeholder="Search" id="search_box" aria-label="Search">
            </div>
          </form>
        </div>
        <br>

        <div class="row" id="showSearchResult">
          <div class="border" style="width: 100%;">
            <div class="postHeader">
              <h1>Search results</h1>
              <h6>Posts in which your query appears</h6>
            </div>
            <div class="featuredPostContent">
              <ul id="search_results"></ul>
            </div>
          </div>
        </div>


      </div>
    </div>
  </div>
  </div>
  <br>
  <!--footer-->
  {% include footer.html %}


  {% include analytics.html %}

  <!-- jQuery CDN -->
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <!-- jQuery local fallback -->
  <script>
    window.jQuery || document.write("<script src="{{site.baseurl}}/assets/fallback/jquery-3.4.1.min.js"><\/script>")
  </script>
  <!-- Bootstrap JS CDN -->
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  <!-- Bootstrap JS local fallback -->
  <script>
    if (typeof($.fn.modal) === "undefined") {
      document.write("<script src="{{site.baseurl}}/assets/fallback/bootstrap.min.js"><\/script>")
    }
  </script>


  <!-- credits to https://github.com/vfeskov/vanilla-back-to-top -->
  <script src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js"></script>
  <script>
    addBackToTop({
      diameter: 40,
      backgroundColor: "#ddd",
      textColor: "red"
    })
  </script>

  <!-- TODO: Make it Asynchronous-->
  <script>
    //if browser is IE: idc about a browser not following standards
    var ua = window.navigator.userAgent;
    var isIE = /MSIE|Trident/.test(ua);

    if (isIE) {
      var node = document.getElementById("navbar");
      var newNode = document.createElement("div");
      newNode.appendChild(document.createTextNode("Your browser seems to be Internet Explorer. Some functions may not work"));
      node.appendChild(newNode);
      newNode.classList.add("alert");
      newNode.classList.add("alert-warning");
    }
  </script>

  <script>
    function getQuote() {

      $.get("../quotes", null, function(text) {

        var quotesObject = $(text).find(".quote").toArray();
        var quotesArray = Array.from(quotesObject, x => x.innerHTML);

        var numberQuotes = quotesArray.length;
        var chosenQuote = Math.floor(Math.random() * (numberQuotes));
        document.getElementById("showQuote").innerHTML = quotesArray[chosenQuote];
      });
    }
    $(window).bind("load", function() {
      getQuote();
    });
  </script>

  <script>
    function showSearchResult() {
      var node = document.getElementById("showSearchResult");
      node.classList.add("showSearchResult");
    }
  </script>

  <!--TODO: update lunar to newer version AND local fallback-->
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.8/lunr.min.js" type="text/javascript"></script>-->
  <script src="{{site.baseurl}}/lunr.min.js"></script>
  <script src="{{site.baseurl}}/search.js"></script>
</body>

</html>
